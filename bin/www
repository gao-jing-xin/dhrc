#!/usr/bin/env node
var debug = require('debug')('DHRC');

process.dhrcSettings = {
    host: 'localhost',
    port: 8080,
    mysql: {
        connectionLimit: 20,
        host: 'localhost',
        user: 'dhrc',
        password: 'dhrc',
        database: "weez_wx",
        multipleStatements: true
    },
    mails:{
        title: '德合睿创',
        teller: 'lix@csi-bj.com'
    },
    smtp: {
        host: 'smtp.gmail.com',
        secure: true,
        auth: {
            user: 'dhrc.test@gmail.com',
            pass: 'dhrcdhrc'
        },
        maxConnections: 5,
        maxMessages: 500
    }
};

var dhrc = require('../app');
var vhost = require('vhost');
var app = require('express')();
app.use(vhost(process.dhrcSettings.host, dhrc));
app.listen(process.dhrcSettings.port, function () {
    debug('Express server listening on port ' + process.dhrcSettings.port);
});
